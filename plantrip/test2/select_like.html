<!DOCTYPE html>
<html>
<head>
<title></title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<link rel="stylesheet" type="text/css" href="swipe.css">
</head>
<body>
<div class="stage">
<div class="title">Choose what you like</div>
    <div id="stacked-cards-block" class="stackedcards stackedcards--animatable init">
        <div id="givecard" class="stackedcards-container">

        <div class="card">
            <div class="card-content">
            <div class="card-image"><img id="img1" src="https://media.giphy.com/media/xTk9ZvMnbIiIew7IpW/giphy.gif" width="100%" height="100%"/></div>
            <div class="card-titles">
                <h1 id="h_1"></h1>
            </div>  
            </div>
        </div>
        <div class="card">
            <div class="card-content">
            <div class="card-image"><img id="img2" src="https://image.ibb.co/fXPg7n/Beach_and_Chill.png" width="100%" height="100%"/></div>
            <div class="card-titles">
                <h1 id="h_2">Beach <br/> and Chill</h1>
            </div>  
            </div>
        </div>
        <div class="card">
            <div class="card-content">
            <div class="card-image"><img id="img3" src="https://image.ibb.co/c9gTnn/Romantic_Gateways.png" width="100%" height="100%"/></div>
            <div class="card-titles">
                <h1 id="h_3">Romantic <br/> Gateways</h1>
            </div>  
            </div>
        </div>
        <div class="card">
            <div class="card-content">
            <div class="card-image"><img id="img4" src="https://image.ibb.co/jY88nn/city_breaks.png" width="100%" height="100%"/></div>
            <div class="card-titles">
                <h1 id="h_4">City <br/> Breaks</h1>
            </div>  
            </div>
        </div>
        <div class="card">
            <div class="card-content">
            <div class="card-image"><img id="img5" src="https://image.ibb.co/eBNZSn/Family_Vacation.png" width="100%" height="100%"/></div>
            <div class="card-titles">
                <h1 id="h_5">Family <br/> Vancation</h1>
            </div>  
            </div>
        </div>
        <div class="card">
            <div class="card-content">
            <div class="card-image"><img id="img6" src="https://image.ibb.co/epvM7n/Art_and_culture.png" width="100%" height="100%"/></div>
            <div class="card-titles">
                <h1 id="h_6">Art and <br/> Culture</h1>
            </div>  
            </div>
        </div>
        <div class="card">
            <div class="card-content">
            <div class="card-image"><img id="img7" src="https://image.ibb.co/bXTXV7/Far_and_Away_2x.png" width="100%" height="100%"/></div>
            <div class="card-titles">
                <h1 id="h_7">Far and <br/> Away</h1>
            </div>  
            </div>
        </div>
        <div class="card">
            <div class="card-content">
            <div class="card-image"><img id="img8" src="https://image.ibb.co/eBNZSn/Family_Vacation.png" width="100%" height="100%"/></div>
            <div class="card-titles">
                <h1 id="h_8">Family <br/> Vancation</h1>
            </div>  
            </div>
        </div>
        <div class="card">
            <div class="card-content">
            <div class="card-image"><img id="img9" src="https://image.ibb.co/epvM7n/Art_and_culture.png" width="100%" height="100%"/></div>
            <div class="card-titles">
                <h1 id="h_9">Art and <br/> Culture</h1>
            </div>  
            </div>
        </div>
        <div class="card">
            <div class="card-content">
            <div class="card-image"><img id="img10" src="https://image.ibb.co/bXTXV7/Far_and_Away_2x.png" width="100%" height="100%"/></div>
            <div class="card-titles">
                <h1 id="h_10">Far and <br/> Away</h1>
            </div>  
            </div>
        </div>
        </div>
        <div class="stackedcards--animatable stackedcards-overlay top"><img src="https://image.ibb.co/m1ykYS/rank_army_star_2_3x.png"  width="auto" height="auto"/></div>
        <div class="stackedcards--animatable stackedcards-overlay right"><img src="https://image.ibb.co/dCuESn/Path_3x.png" width="auto" height="auto"/></div>
        <div class="stackedcards--animatable stackedcards-overlay left"><img src="https://image.ibb.co/heTxf7/20_status_close_3x.png" width="auto" height="auto"/></div>
    </div>
    <div class="global-actions">
        <div class="left-action"><img src="https://image.ibb.co/heTxf7/20_status_close_3x.png" width="26" height="26"/></div>
        <div class="top-action"><img src="https://image.ibb.co/m1ykYS/rank_army_star_2_3x.png" width="18" height="16"/></div>
        <div class="right-action"><img src="https://image.ibb.co/dCuESn/Path_3x.png" width="30" height="28"/></div>
    </div>
</div>

<div class="final-state hidden"><h2>Got it! We received your preferences! <br/> To submit again, press F5.</h2></div>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.0/dist/tf.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-database.js"></script>
<script src="../../database_setup.js"></script>
<script>

    var url = decodeURI(location.href);
    var temp = url.split('?')[1].split('=')[1];
    console.log(temp)

    dbtest.ref('attraction/'+temp).on('value',function(data){
        var plot = data.val();
        console.log(plot)
        var temparray = [];
        data.forEach(function(datas){
        console.log(datas.key)
        console.log(datas.val())
        temparray.push(datas.key);
        });
        console.log(temparray);
        var count = 1;
        var record_random = [];
        while(count<=10){
        var random = Math.floor(Math.random() * temparray.length);
        console.log(temparray[random])
        //record_random.push(random);
        //if()
        dbtest.ref('attraction/'+temp+'/'+temparray[random]).once('value',function(data){
        //console.log(data.val());
        console.log(temparray[random]);
        document.getElementById('img'+count.toString()).src = data.val()['照片網址'];
        document.getElementById('h_'+count.toString()).innerHTML = temparray[random];
        count+=1;
        
        });
        }
    });

    /*

  */
</script>

<script src="swipe.js"></script>
</body>
</html>